name: ardupilot_ros2
root: /root
windows:
  - editor:
      layout: main-vertical
      panes:
        - echo "ArduPilot SITL Simulation Environment"
  - ardupilot_sitl:
      layout: tiled
      panes:
        - |
          cd /root/ardupilot
          ./sim_vehicle.py -v ArduCopter -f quadcopter --console --map --osd
  - mavproxy:
      layout: tiled
      panes:
        - |
          # Wait for SITL to start
          sleep 10
          mavproxy.py --console --map --aircraft test --master=:14550
  - dds_monitor:
      layout: even-horizontal
      panes:
        - |
          # Monitor DDS communications
          cd /root
          sleep 15
          echo "Checking for UDP ports:"
          netstat -tuln | grep UDP
        - |
          # Ready for checking running processes
          sleep 20
          echo "Running ArduPilot processes:"
          ps aux | grep ardupilot
  - system_monitor:
      layout: tiled
      panes:
        - |
          # For system monitoring
          echo "System Resources:"
          top -b -n 1 | head -n 20
        - |
          # For network connections
          echo "Network Connections:"
          netstat -tuln | grep -E '14550|5760|5501|8888'
        - |
          # Ready for additional commands
          cd /root
          echo "Ready for additional commands"
